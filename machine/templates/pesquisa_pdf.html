{% extends 'base.html' %}
{% load static %}
{% block head %}
    <style type="text/css">
        table, td, th {
            border: 1px solid black;
            padding: 5px, 5px, 0px, 5px;
            bottom: 0px;
            position: relative;
        }

        th {
            background-color: #0CAFF0;
        }

        table {
            border-collapse: collapse;
            width: 100%;
            padding: 5px, 5px, 0px, 5px;
            bottom: 0px;
            position: relative;
        }

        td {
            text-align: center;
            padding: 5px, 5px, 0px, 5px;
            bottom: 0px;
            position: relative;
        }

        h1 {
            text-align: center;
            font-size: 20px;
        }

        h2 {
            text-align: center;
            font-size: 15px;
        }

        h3 {
            text-align: center;
            font-size: 12px;
        }
    </style>
{% endblock %}
{% block main %}
    <img src="{% static 'images/cielo.jpg' %}" width="300" height="100">
    <br><br>
    <h1>Período: de {{ data_inicio }} até {{ data_fim }}</h1>
    <br><br>
    <h2>{{ estabelecimento }} - Vendas a Crédito</h2>
    <div class="table-responsive">
        <table class="table table-striped table-sm">
            <thead>
                <tr>
                    <th>Forma</th>
                    <th>Qtde</th>
                    <th>Valor Bruto</th>
                    <th>Taxa</th>
                    <th>Valor Taxa (Banco)</th>
                    <th>Valor Devido</th>
                    <th>Lucro</th>
                </tr>
            </thead>
            <tbody>
            {% if vendas.master.credito_vista %}
                <tr>
                    <td>Master Crédito à Vista</td>
                    <td>{{ vendas.master.credito_vista.count }}</td>
                    <td>R$ {{ vendas.master.credito_vista.total_bruto }}</td>
                    <td>%{{ vendas.master.credito_vista.last.bandeira.credito_vista }}</td>
                    <td>R$ {{ vendas.master.credito_vista.total_tarifa }}</td>
                    <td>R$ {{ vendas.master.credito_vista.total_devido }}</td>
                    <td>R$ {{ vendas.master.credito_vista.lucro_total }}</td>
                </tr>
            {% endif %}
            {% if vendas.master.credito_pre %}
                <tr>
                    <td>Master Crédito Pré-pago</td>
                    <td>{{ vendas.master.credito_pre.count }}</td>
                    <td>R$ {{ vendas.master.credito_pre.total_bruto }}</td>
                    <td>%{{ vendas.master.credito_pre.last.bandeira.credito_pre }}</td>
                    <td>R$ {{ vendas.master.credito_pre.total_tarifa }}</td>
                    <td>R$ {{ vendas.master.credito_pre.total_devido }}</td>
                    <td>R$ {{ vendas.master.credito_pre.lucro_total }}</td>
                </tr>
            {% endif %}
            {% if vendas.master.credito_moeda %}
                <tr>
                    <td>Master Crédito Conv. Moeda</td>
                    <td>{{ vendas.master.credito_moeda.count }}</td>
                    <td>R$ {{ vendas.master.credito_moeda.total_bruto }}</td>
                    <td>%{{ vendas.master.credito_moeda.last.bandeira.credito_moeda }}</td>
                    <td>R$ {{ vendas.master.credito_moeda.total_tarifa }}</td>
                    <td>R$ {{ vendas.master.credito_moeda.total_devido }}</td>
                    <td>R$ {{ vendas.master.credito_moeda.lucro_total }}</td>
                </tr>
            {% endif %}
            {% if vendas.master.credito_parcelado %}
                <tr>
                    <td>Master Crédito Parcelado</td>
                    <td>{{ vendas.master.credito_parcelado.count }}</td>
                    <td>R$ {{ vendas.master.credito_parcelado.total_bruto }}</td>
                    <td>%{{ vendas.master.credito_parcelado.last.bandeira.credito_2x }}</td>
                    <td>R$ {{ vendas.master.credito_parcelado.total_tarifa }}</td>
                    <td>R$ {{ vendas.master.credito_parcelado.total_devido }}</td>
                    <td>R$ {{ vendas.master.credito_parcelado.lucro_total }}</td>
                </tr>
            {% endif %}
            {% if vendas.visa.credito_vista %}
                <tr>
                    <td>Visa Crédito à Vista</td>
                    <td>{{ vendas.visa.credito_vista.count }}</td>
                    <td>R$ {{ vendas.visa.credito_vista.total_bruto }}</td>
                    <td>%{{ vendas.visa.credito_vista.last.bandeira.credito_vista }}</td>
                    <td>R$ {{ vendas.visa.credito_vista.total_tarifa }}</td>
                    <td>R$ {{ vendas.visa.credito_vista.total_devido }}</td>
                    <td>R$ {{ vendas.visa.credito_vista.lucro_total }}</td>
                </tr>
            {% endif %}
            {% if vendas.visa.credito_pre %}
                <tr>
                    <td>Visa Crédito Pré-pago</td>
                    <td>{{ vendas.visa.credito_pre.count }}</td>
                    <td>R$ {{ vendas.visa.credito_pre.total_bruto }}</td>
                    <td>%{{ vendas.visa.credito_pre.last.bandeira.credito_pre }}</td>
                    <td>R$ {{ vendas.visa.credito_pre.total_tarifa }}</td>
                    <td>R$ {{ vendas.visa.credito_pre.total_devido }}</td>
                    <td>R$ {{ vendas.visa.credito_pre.lucro_total }}</td>
                </tr>
            {% endif %}
            {% if vendas.visa.credito_moeda %}
                <tr>
                    <td>Visa Crédito Conv. Moeda</td>
                    <td>{{ vendas.visa.credito_moeda.count }}</td>
                    <td>R$ {{ vendas.visa.credito_moeda.total_bruto }}</td>
                    <td>%{{ vendas.visa.credito_moeda.last.bandeira.credito_moeda }}</td>
                    <td>R$ {{ vendas.visa.credito_moeda.total_tarifa }}</td>
                    <td>R$ {{ vendas.visa.credito_moeda.total_devido }}</td>
                    <td>R$ {{ vendas.visa.credito_moeda.lucro_total }}</td>
                </tr>
            {% endif %}
            {% if vendas.visa.credito_parcelado %}
                <tr>
                    <td>Visa Crédito Parcelado</td>
                    <td>{{ vendas.visa.credito_parcelado.count }}</td>
                    <td>R$ {{ vendas.visa.credito_parcelado.total_bruto }}</td>
                    <td>%{{ vendas.visa.credito_parcelado.last.bandeira.credito_2x }}</td>
                    <td>R$ {{ vendas.visa.credito_parcelado.total_tarifa }}</td>
                    <td>R$ {{ vendas.visa.credito_parcelado.total_devido }}</td>
                    <td>R$ {{ vendas.visa.credito_parcelado.lucro_total }}</td>
                </tr>
            {% endif %}
            {% if vendas.amex.credito_vista %}
                <tr>
                    <td>Amex Crédito à Vista</td>
                    <td>{{ vendas.amex.credito_vista.count }}</td>
                    <td>R$ {{ vendas.amex.credito_vista.total_bruto }}</td>
                    <td>%{{ vendas.amex.credito_vista.last.bandeira.credito_vista }}</td>
                    <td>R$ {{ vendas.amex.credito_vista.total_tarifa }}</td>
                    <td>R$ {{ vendas.amex.credito_vista.total_devido }}</td>
                    <td>R$ {{ vendas.amex.credito_vista.lucro_total }}</td>
                </tr>
            {% endif %}
            {% if vendas.amex.credito_pre %}
                <tr>
                    <td>Amex Crédito Pré-pago</td>
                    <td>{{ vendas.amex.credito_pre.count }}</td>
                    <td>R$ {{ ovendas.amex.credito_pre.total_bruto }}</td>
                    <td>%{{ vendas.amex.credito_pre.last.bandeira.credito_pre }}</td>
                    <td>R$ {{ vendas.amex.credito_pre.total_tarifa }}</td>
                    <td>R$ {{ vendas.amex.credito_pre.total_devido }}</td>
                    <td>R$ {{ vendas.amex.credito_pre.lucro_total }}</td>
                </tr>
            {% endif %}
            {% if vendas.amex.credito_moeda %}
                <tr>
                    <td>Amex Crédito Conv. Moeda</td>
                    <td>{{ vendas.amex.credito_moeda.count }}</td>
                    <td>R$ {{ vendas.amex.credito_moeda.total_bruto }}</td>
                    <td>%{{ vendas.amex.credito_moeda.last.bandeira.credito_moeda }}</td>
                    <td>R$ {{ vendas.amex.credito_moeda.total_tarifa }}</td>
                    <td>R$ {{ vendas.amex.credito_moeda.total_devido }}</td>
                    <td>R$ {{ vendas.amex.credito_moeda.lucro_total }}</td>
                </tr>
            {% endif %}
            {% if vendas.amex.credito_parcelado %}
                <tr>
                    <td>Amex Crédito Parcelado</td>
                    <td>{{ vendas.amex.credito_parcelado.count }}</td>
                    <td>R$ {{ vendas.amex.credito_parcelado.total_bruto }}</td>
                    <td>%{{ vendas.amex.credito_parcelado.last.bandeira.credito_2x }}</td>
                    <td>R$ {{ vendas.amex.credito_parcelado.total_tarifa }}</td>
                    <td>R$ {{ vendas.amex.credito_parcelado.total_devido }}</td>
                    <td>R$ {{ vendas.amex.credito_parcelado.lucro_total }}</td>
                </tr>
            {% endif %}
            {% if vendas.elo.credito_vista %}
                <tr>
                    <td>Elo Crédito à Vista</td>
                    <td>{{ vendas.elo.credito_vista.count }}</td>
                    <td>R$ {{ vendas.elo.credito_vista.total_bruto }}</td>
                    <td>%{{ vendas.elo.credito_vista.last.bandeira.credito_vista }}</td>
                    <td>R$ {{ vendas.elo.credito_vista.total_tarifa }}</td>
                    <td>R$ {{ vendas.elo.credito_vista.total_devido }}</td>
                    <td>R$ {{ vendas.elo.credito_vista.lucro_total }}</td>
                </tr>
            {% endif %}
            {% if vendas.elo.credito_pre %}
                <tr>
                    <td>Elo Crédito Pré-pago</td>
                    <td>{{ vendas.elo.credito_pre.count }}</td>
                    <td>R$ {{ vendas.elo.credito_pre.total_bruto }}</td>
                    <td>%{{ vendas.elo.credito_pre.last.bandeira.credito_pre }}</td>
                    <td>R$ {{ vendas.elo.credito_pre.total_tarifa }}</td>
                    <td>R$ {{ vendas.elo.credito_pre.total_devido }}</td>
                    <td>R$ {{ vendas.elo.credito_pre.lucro_total }}</td>
                </tr>
            {% endif %}
            {% if vendas.elo.credito_moeda %}
                <tr>
                    <td>Elo Crédito Conv. Moeda</td>
                    <td>{{ vendas.elo.credito_moeda.count }}</td>
                    <td>R$ {{ vendas.elo.credito_moeda.total_bruto }}</td>
                    <td>%{{ vendas.elo.credito_moeda.last.bandeira.credito_moeda }}</td>
                    <td>R$ {{ vendas.elo.credito_moeda.total_tarifa }}</td>
                    <td>R$ {{ vendas.elo.credito_moeda.total_devido }}</td>
                    <td>R$ {{ vendas.elo.credito_moeda.lucro_total }}</td>
                </tr>
            {% endif %}
            {% if vendas.elo.credito_parcelado %}
                <tr>
                    <td>Elo Crédito Parcelado</td>
                    <td>{{ vendas.elo.credito_parcelado.count }}</td>
                    <td>R$ {{ vendas.elo.credito_parcelado.total_bruto }}</td>
                    <td>%{{ vendas.elo.credito_parcelado.last.bandeira.credito_2x }}</td>
                    <td>R$ {{ vendas.elo.credito_parcelado.total_tarifa }}</td>
                    <td>R$ {{ vendas.elo.credito_parcelado.total_devido }}</td>
                    <td>R$ {{ vendas.elo.credito_parcelado.lucro_total }}</td>
                </tr>
            {% endif %}
            {% if vendas.hiper.credito_vista %}
                <tr>
                    <td>Hiper Crédito à Vista</td>
                    <td>{{ vendas.hiper.credito_vista.count }}</td>
                    <td>R$ {{ vendas.hiper.credito_vista.total_bruto }}</td>
                    <td>%{{ vendas.hiper.credito_vista.last.bandeira.credito_vista }}</td>
                    <td>R$ {{ vendas.hiper.credito_vista.total_tarifa }}</td>
                    <td>R$ {{ vendas.hiper.credito_vista.total_devido }}</td>
                    <td>R$ {{ vendas.hiper.credito_vista.lucro_total }}</td>
                </tr>
            {% endif %}
            {% if vendas.hiper.credito_pre %}
                <tr>
                    <td>Hiper Crédito Pré-pago</td>
                    <td>{{ vendas.hiper.credito_pre.count }}</td>
                    <td>R$ {{ vendas.hiper.credito_pre.total_bruto }}</td>
                    <td>%{{ vendas.hiper.credito_pre.last.bandeira.credito_pre }}</td>
                    <td>R$ {{ vendas.hiper.credito_pre.total_tarifa }}</td>
                    <td>R$ {{ vendas.hiper.credito_pre.total_devido }}</td>
                    <td>R$ {{ vendas.hiper.credito_pre.lucro_total }}</td>
                </tr>
            {% endif %}
            {% if vendas.hiper.credito_moeda %}
                <tr>
                    <td>Hiper Crédito Conv. Moeda</td>
                    <td>{{ vendas.hiper.credito_moeda.count }}</td>
                    <td>R$ {{ vendas.hiper.credito_moeda.total_bruto }}</td>
                    <td>%{{ vendas.hiper.credito_moeda.last.bandeira.credito_moeda }}</td>
                    <td>R$ {{ vendas.hiper.credito_moeda.total_tarifa }}</td>
                    <td>R$ {{ vendas.hiper.credito_moeda.total_devido }}</td>
                    <td>R$ {{ vendas.hiper.credito_moeda.lucro_total }}</td>
                </tr>
            {% endif %}
            {% if vendas.hiper.credito_parcelado %}
                <tr>
                    <td>Hiper Crédito Parcelado</td>
                    <td>{{ vendas.hiper.credito_parcelado.count }}</td>
                    <td>R$ {{ vendas.hiper.credito_parcelado.total_bruto }}</td>
                    <td>%{{ vendas.hiper.credito_parcelado.last.bandeira.credito_2x }}</td>
                    <td>R$ {{ vendas.hiper.credito_parcelado.total_tarifa }}</td>
                    <td>R$ {{ vendas.hiper.credito_parcelado.total_devido }}</td>
                    <td>R$ {{ vendas.hiper.credito_parcelado.lucro_total }}</td>
                </tr>
            {% endif %}
            {% if vendas.credito %}
                <tr>
                    <td><b>Total</b></td>
                    <td>{{ vendas.credito.count }}</td>
                    <td>R$ {{ vendas.credito.total_bruto }}</td>
                    <td>Variável</td>
                    <td>R$ {{ vendas.credito.total_tarifa }}</td>
                    <td>R$ {{ vendas.credito.total_devido }}</td>
                    <td>R$ {{ vendas.credito.lucro_total }}</td>
                </tr>
            {% endif %}
            </tbody>
        </table>
    </div>
    <br><br>
    <h2 class="text-center">{{ estabelecimento }} - Vendas a Débito</h2>
    <div class="table-responsive">
        <table class="table table-striped table-sm">
            <thead>
                <tr>
                    <th>Forma</th>
                    <th>Qtde</th>
                    <th>Valor Bruto</th>
                    <th>Taxa</th>
                    <th>Valor Taxa (Banco)</th>
                    <th>Valor Devido</th>
                    <th>Lucro</th>
                </tr>
            </thead>
            <tbody>
            {% if vendas.master.debito %}
                <tr>
                    <td>Master Débito</td>
                    <td>{{ vendas.master.debito.count }}</td>
                    <td>R$ {{ vendas.master.debito.total_bruto }}</td>
                    <td>%{{ vendas.master.debito.last.bandeira.debito_vista }}</td>
                    <td>R$ {{ vendas.master.debito.total_tarifa }}</td>
                    <td>R$ {{ vendas.master.debito.total_devido }}</td>
                    <td>R$ {{ vendas.master.debito.lucro_total }}</td>
                </tr>
            {% endif %}
            {% if vendas.visa.debito %}
                <tr>
                    <td>Visa Débito</td>
                    <td>{{ vendas.visa.debito.count }}</td>
                    <td>R$ {{ vendas.visa.debito.total_bruto }}</td>
                    <td>%{{ vendas.visa.debito.last.bandeira.debito_vista }}</td>
                    <td>R$ {{ vendas.visa.debito.total_tarifa }}</td>
                    <td>R$ {{ vendas.visa.debito.total_devido }}</td>
                    <td>R$ {{ vendas.visa.debito.lucro_total }}</td>
                </tr>
            {% endif %}
            {% if vendas.amex.debito %}
                <tr>
                    <td>Amex Débito</td>
                    <td>{{ vendas.amex.debito.count }}</td>
                    <td>R$ {{ vendas.amex.debito.total_bruto }}</td>
                    <td>%{{ vendas.amex.debito.last.bandeira.debito_vista }}</td>
                    <td>R$ {{ vendas.amex.debito.total_tarifa }}</td>
                    <td>R$ {{ vendas.amex.debito.total_devido }}</td>
                    <td>R$ {{ vendas.amex.debito.lucro_total }}</td>
                </tr>
            {% endif %}
            {% if vendas.elo.debito %}
                <tr>
                    <td>Elo Débito</td>
                    <td>{{ vendas.elo.debito.count }}</td>
                    <td>R$ {{ vendas.elo.debito.total_bruto }}</td>
                    <td>%{{ vendas.elo.debito.last.bandeira.debito_vista }}</td>
                    <td>R$ {{ vendas.elo.debito.total_tarifa }}</td>
                    <td>R$ {{ vendas.elo.debito.total_devido }}</td>
                    <td>R$ {{ vendas.elo.debito.lucro_total }}</td>
                </tr>
            {% endif %}
            {% if vendas.hiper.debito %}
                <tr>
                    <td>Hiper Débito</td>
                    <td>{{ vendas.hiper.debito.count }}</td>
                    <td>R$ {{ vendas.hiper.debito.total_bruto }}</td>
                    <td>%{{ vendas.hiper.debito.last.bandeira.debito_vista }}</td>
                    <td>R$ {{ vendas.hiper.debito.total_tarifa }}</td>
                    <td>R$ {{ vendas.hiper.debito.total_devido }}</td>
                    <td>R$ {{ vendas.hiper.debito.lucro_total }}</td>
                </tr>
            {% endif %}
            {% if vendas.debito %}
                <tr>
                    <td><b>Total</b></td>
                    <td>{{ vendas.debito.count }}</td>
                    <td>R$ {{ vendas.debito.total_bruto }}</td>
                    <td>Variável</td>
                    <td>R$ {{ vendas.debito.total_tarifa }}</td>
                    <td>R$ {{ vendas.debito.total_devido }}</td>
                    <td>R$ {{ vendas.debito.lucro_total }}</td>
                </tr>
            {% endif %}
            </tbody>
        </table>
    </div>
    <br><br>
    <h2 class="text-center">{{ estabelecimento }} - Total de Vendas</h2>
    <div class="table-responsive">
        <table class="table table-striped table-sm">
            <thead>
                <tr>
                    <th>Qtde</th>
                    <th>Valor Bruto</th>
                    <th>Valor Taxa (Banco)</th>
                    <th>Valor Devido</th>
                    <th>Lucro</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>{{ vendas.count }}</td>
                    <td>R$ {{ vendas.total_bruto }}</td>
                    <td>R$ {{ vendas.total_tarifa }}</td>
                    <td>R$ {{ vendas.total_devido }}</td>
                    <td>R$ {{ vendas.lucro_total }}</td>
                </tr>
            </tbody>
        </table>
    </div>
{% endblock %}

